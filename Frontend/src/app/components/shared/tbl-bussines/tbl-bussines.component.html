<div class="admintbl table-responsive">
    <table datatable [dtOptions]="dtOptions" id="empresas" class="table table-sm table-striped table-bordered " style="width:100%">
        <thead>
            <tr>
                <th>Id</th>
                <th>Cod</th>
                <th>Sui</th>
                <th style="width: 60px !important;">Nit</th>
                <th>Empresa</th>
                <th>Estado</th>
                <th>Acciones</th>
            </tr>
        </thead>
        <tbody>
            <tr *ngFor="let company of businnes ">
                <td>{{ company.id_empresa }}</td>
                <td>{{ company.cod_empresa }}</td>
                <td>{{ company.cod_sui_empresa }}</td>
                <td>{{ company.nit_empresa }}-{{ company.dv_nit_empresa }}</td>
                <td>{{ company.nombre_empresa }}</td>
                <td>
                    <div class="switch-button">
                        <input type="checkbox" name="switch-button" id="{{ company.id_empresa }}" class="switch-button__checkbox" [checked]="company.activo" (change)="changeState($event, modalActualizar) ">
                        <label for="{{ company.id_empresa }}" class="switch-button__label"></label>
                    </div>
                </td>
                <td>
                    <a [routerLink]=" " (click)="companySelected(company.id_empresa)"><i class="fas fa-edit " data-toggle="tooltip" title="Editar dato"></i></a>
                </td>
            </tr>
        </tbody>
    </table>
</div>


<ng-template #modalActualizar class="modal fade" data-backdrop="static " data-keyboard="false " tabindex="-1 " aria-labelledby="staticBackdropLabel " aria-hidden="true ">

    <div>
        <div class="modal-header">
            <h5 class="modal-title " id="modalActualizar ">
                Actualizar datos
            </h5>
            <button type="button " class="close " data-dismiss="modal " aria-label="Close " (click)="modalRef.hide(); refreshState() ">
                <span aria-hidden="true ">&times;</span>
            </button>
        </div>
        <div *ngIf="load" class="container">
            <img src="assets/images/load.gif " class="imgLoad " alt="load ">
        </div>
        <div *ngIf="!load" class="modal-body ">
            {{ estateCompany }}
        </div>
        <div *ngIf="!load" class="modal-footer ">
            <button type="button " class="btn btn-success " (click)="updateState(); modalRef.hide() ">Continuar</button>
            <button type="button " class="btn btn-warning " (click)="modalRef.hide(); refreshState() " data-dismiss="modal ">Cancelar</button>
        </div>
    </div>
</ng-template>